<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ø­ØµÙŠÙ„Ø© Ø£Ù†Ø´Ø·Ø© Ø§Ù„ÙˆØ²Ø§Ø±Ø© Ù…Ù† 2021 Ø¥Ù„Ù‰ 2025</title>
<meta name="description" content="Ø­ØµÙŠÙ„Ø© Ø£Ù†Ø´Ø·Ø© ÙˆØ²Ø§Ø±Ø© Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ±Ø§Ø¨ Ø§Ù„ÙˆØ·Ù†ÙŠ ÙˆØ§Ù„ØªØ¹Ù…ÙŠØ± ÙˆØ§Ù„Ø¥Ø³ÙƒØ§Ù† ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ù…Ù† 2021 Ø¥Ù„Ù‰ 2025">
<style>
:root {
  --primary-color: #9370DB;
  --secondary-color: #BA55D3;
  --accent-color: #6A5ACD;
  --text-color: #333;
  --light-bg: #f8f4ff;
  --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  --hover-shadow: 0 8px 20px rgba(147, 112, 219, 0.15);
  --facebook-blue: #0866ff;
  --facebook-blue-dark: #1877f2;
  --soft-bg: #f0f2f5;
  --transition: 0.3s ease;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Arial', sans-serif;
  background: linear-gradient(135deg, #f5f0ff 0%, #f9f7ff 100%);
  color: var(--text-color);
  line-height: 1.6;
  min-height: 100vh;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 clamp(12px, 3vw, 20px);
}

/* Header Styles */
.header {
  text-align: center;
  padding: clamp(12px, 2vw, 16px);
  margin: clamp(8px, 1.5vw, 12px) 0;
  background: rgba(255, 255, 255, 0.98);
  border-radius: 16px;
  box-shadow: var(--card-shadow);
  border: 1px solid rgba(147, 112, 219, 0.1);
  position: sticky;
  top: 0;
  z-index: 1000;
  backdrop-filter: blur(10px);
}

.logo-arabic {
  font-size: clamp(1rem, 1.5vw, 1.1rem);
  font-weight: 700;
  color: var(--accent-color);
  line-height: 1.4;
}

.main-title {
  text-align: center;
  margin: clamp(15px, 3vw, 30px) 0;
  padding: clamp(20px, 4vw, 30px);
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
  color: white;
  border-radius: 20px;
  box-shadow: 0 8px 25px rgba(147, 112, 219, 0.3);
  font-size: clamp(1.5rem, 3vw, 2.2rem);
  font-weight: 700;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
}

/* Video Section */
.video-section {
  display: none;
  margin: clamp(15px, 3vw, 25px) 0;
  animation: fadeIn 0.5s ease;
}

.video-section.active {
  display: block;
}

.video-container {
  background: white;
  border-radius: 16px;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
  overflow: hidden;
}

.video-header {
  padding: clamp(15px, 3vw, 25px);
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 15px;
}

.video-header h2 {
  margin: 0;
  font-size: clamp(1.1rem, 2vw, 1.4rem);
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.close-video {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background var(--transition);
  flex-shrink: 0;
}

.close-video:hover {
  background: rgba(255, 255, 255, 0.3);
}

.video-wrapper {
  position: relative;
  padding-bottom: 56.25%;
  height: 0;
  overflow: hidden;
  background: #000;
}

.video-iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
}

.video-info {
  padding: clamp(20px, 3vw, 30px);
}

.video-title-ar {
  font-weight: 800;
  color: var(--primary-color);
  font-size: clamp(1.3rem, 2.5vw, 1.6rem);
  margin-bottom: 15px;
  text-align: right;
  direction: rtl;
}

.video-title-fr {
  font-style: italic;
  color: var(--text-color);
  opacity: 0.9;
  margin-bottom: 20px;
  font-size: clamp(1.1rem, 1.8vw, 1.3rem);
}

.video-description {
  color: var(--text-color);
  opacity: 0.8;
  font-size: clamp(0.95rem, 1.5vw, 1.05rem);
  line-height: 1.7;
  margin: 20px 0;
}

.video-description.ar {
  text-align: right;
  direction: rtl;
}

/* Tags Styles */
.tags-container {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin: 20px 0;
}

.tag {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 6px 12px;
  background: var(--light-bg);
  color: var(--primary-color);
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 500;
  text-decoration: none;
  transition: all var(--transition);
}

.tag:hover {
  background: var(--primary-color);
  color: white;
  transform: translateY(-2px);
}

.tag-icon {
  font-size: 0.9rem;
}

.hashtag {
  background: rgba(147, 112, 219, 0.1);
  color: var(--accent-color);
}

.hashtag:hover {
  background: var(--accent-color);
  color: white;
}

.video-meta {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: clamp(15px, 2vw, 20px);
  margin: 25px 0;
  padding: clamp(15px, 2vw, 20px);
  background: var(--light-bg);
  border-radius: 12px;
}

.meta-item {
  display: flex;
  align-items: center;
  gap: 12px;
}

.meta-icon {
  font-size: 1.3rem;
  opacity: 0.8;
}

.meta-content {
  display: flex;
  flex-direction: column;
}

.meta-label {
  font-size: 0.85rem;
  opacity: 0.7;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.meta-value {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--primary-color);
}

.video-stats {
  display: flex;
  flex-wrap: wrap;
  gap: clamp(10px, 1.5vw, 15px);
  margin: 20px 0;
  padding: clamp(15px, 2vw, 20px);
  background: var(--light-bg);
  border-radius: 12px;
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 15px;
  background: white;
  border-radius: 25px;
  font-size: 0.95rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  flex: 1;
  min-width: 120px;
}

.facebook-link {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: clamp(12px, 2vw, 16px) clamp(20px, 3vw, 25px);
  background: var(--facebook-blue);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  font-size: 1rem;
  transition: all var(--transition);
  margin-top: 20px;
  width: fit-content;
}

.facebook-link:hover {
  background: var(--facebook-blue-dark);
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(8, 102, 255, 0.3);
}

.facebook-icon {
  font-size: 1.2rem;
}

/* Controls */
.controls {
  display: flex;
  flex-wrap: wrap;
  gap: clamp(10px, 2vw, 15px);
  justify-content: center;
  margin: clamp(15px, 3vw, 25px) 0;
}

.search-input, .year-select {
  flex: 1;
  min-width: 200px;
  padding: clamp(12px, 2vw, 14px) clamp(15px, 2.5vw, 20px);
  font-size: 1rem;
  border: 2px solid #ddd;
  background: white;
  border-radius: 10px;
  transition: all var(--transition);
  outline: none;
}

.search-input:focus, .year-select:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(147, 112, 219, 0.1);
}

.theme-toggle {
  padding: clamp(12px, 2vw, 14px) clamp(15px, 2.5vw, 20px);
  background: var(--primary-color);
  color: white;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1.2rem;
  transition: all var(--transition);
  min-width: 60px;
}

.theme-toggle:hover {
  background: var(--secondary-color);
  transform: translateY(-2px);
}

/* Year Sections */
.year-section {
  margin-bottom: clamp(20px, 3vw, 30px);
  background: white;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: var(--card-shadow);
}

.year-header {
  width: 100%;
  padding: clamp(16px, 2.5vw, 22px);
  background: linear-gradient(to right, #f8f4ff, #ede7f6);
  color: var(--accent-color);
  border: none;
  text-align: right;
  font-size: clamp(1.2rem, 2vw, 1.4rem);
  font-weight: 700;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background-color var(--transition);
  gap: 15px;
}

.year-header:hover {
  background: linear-gradient(to right, #ede7f6, #e1d9f0);
}

.year-count {
  background: var(--primary-color);
  color: white;
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 0.95rem;
  font-weight: 600;
  min-width: 40px;
  text-align: center;
}

.videos-panel {
  padding: 0;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.year-header.open + .videos-panel {
  max-height: 5000px;
  padding: clamp(15px, 2.5vw, 25px);
}

/* Video Cards */
.publication-card {
  padding: clamp(20px, 3vw, 28px);
  border-bottom: 1px solid #eee;
  animation: fadeIn 0.4s ease;
  direction: rtl;
}

.publication-card:last-child {
  border-bottom: none;
}

.card-header {
  display: flex;
  align-items: center;
  margin-bottom: clamp(15px, 2.5vw, 22px);
  padding-bottom: clamp(12px, 2vw, 16px);
  border-bottom: 1px solid #f0f0f0;
  gap: clamp(10px, 2vw, 15px);
}

.avatar {
  width: clamp(50px, 6vw, 65px);
  height: clamp(50px, 6vw, 65px);
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 700;
  font-size: clamp(1.3rem, 2vw, 1.6rem);
  box-shadow: 0 4px 10px rgba(147, 112, 219, 0.2);
  flex-shrink: 0;
}

.page-name {
  font-weight: 700;
  color: var(--text-color);
  font-size: clamp(1.1rem, 1.8vw, 1.3rem);
  margin-bottom: 5px;
}

.post-date {
  font-size: 0.9rem;
  color: #777;
}

.thumb {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  margin: clamp(15px, 2.5vw, 22px) 0;
  cursor: pointer;
  background: #f5f5f5;
  transition: transform var(--transition);
}

.thumb:hover {
  transform: scale(1.02);
}

.thumb img {
  width: 100%;
  height: auto;
  aspect-ratio: 16/9;
  object-fit: cover;
  display: block;
  transition: transform var(--transition);
}

.video-thumb {
  aspect-ratio: 16/9;
}

.reel-thumb {
  aspect-ratio: 9/16;
  max-width: 320px;
  margin: clamp(15px, 2.5vw, 22px) auto;
  border-radius: 16px;
  border: 3px solid white;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

.play {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: clamp(40px, 6vw, 60px);
  color: white;
  background: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(2px);
  transition: all var(--transition);
  opacity: 0.9;
}

.play:hover {
  opacity: 1;
  background: rgba(0, 0, 0, 0.4);
}

.video-duration {
  position: absolute;
  bottom: 15px;
  left: 15px;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 5px 12px;
  border-radius: 12px;
  font-size: 0.85rem;
  font-weight: 500;
  backdrop-filter: blur(4px);
}

.post-content {
  font-size: clamp(1rem, 1.5vw, 1.15rem);
  line-height: 1.7;
  margin: clamp(15px, 2.5vw, 22px) 0;
  color: #444;
  text-align: right;
}

.post-content strong {
  color: var(--accent-color);
  font-weight: 700;
  display: block;
  margin-bottom: 8px;
}

.post-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: clamp(10px, 1.5vw, 15px);
  font-size: 0.9rem;
  color: #666;
  padding: clamp(15px, 2vw, 20px) 0;
  margin: clamp(15px, 2.5vw, 22px) 0;
  border-top: 1px solid #eee;
  border-bottom: 1px solid #eee;
}

.post-stats div {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: clamp(8px, 1.5vw, 12px);
  background: #f9f9f9;
  border-radius: 10px;
  justify-content: center;
  text-align: center;
}

.btn {
  display: block;
  width: 100%;
  padding: clamp(16px, 2.5vw, 20px);
  text-align: center;
  background: var(--facebook-blue);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  font-size: clamp(1rem, 1.5vw, 1.15rem);
  margin-top: clamp(20px, 3vw, 28px);
  transition: all var(--transition);
  border: none;
  cursor: pointer;
}

.btn:hover {
  background: var(--facebook-blue-dark);
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(8, 102, 255, 0.3);
}

/* Tags in Cards */
.card-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 15px 0;
}

.card-tag {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 4px 10px;
  background: rgba(147, 112, 219, 0.1);
  color: var(--primary-color);
  border-radius: 15px;
  font-size: 0.8rem;
  font-weight: 500;
}

.card-hashtag {
  background: rgba(106, 90, 205, 0.1);
  color: var(--accent-color);
}

/* Reels Badge */
.reels-badge {
  display: inline-flex;
  align-items: center;
  background: linear-gradient(45deg, #FF0069, #FF7F00);
  color: white;
  padding: 8px 16px;
  border-radius: 25px;
  font-size: 0.9rem;
  font-weight: 600;
  margin-bottom: 15px;
  gap: 8px;
  width: fit-content;
}

.reels-badge::before {
  content: 'ğŸ¬';
  font-size: 1.2rem;
}

/* Footer */
.footer {
  text-align: center;
  padding: clamp(20px, 3vw, 35px);
  margin-top: clamp(30px, 5vw, 45px);
  color: #666;
  font-size: clamp(0.85rem, 1.2vw, 0.95rem);
  border-top: 1px solid #e4e6eb;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 16px;
}

/* No Results */
.no-results {
  text-align: center;
  padding: 40px;
  color: #666;
  font-size: 1.1rem;
  background: white;
  border-radius: 16px;
  box-shadow: var(--card-shadow);
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Dark Mode */
.dark-mode {
  --text-color: #e4e6eb;
  --light-bg: #2a2a3a;
  --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  --soft-bg: #1a1a2e;
}

.dark-mode body {
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  color: var(--text-color);
}

.dark-mode .header,
.dark-mode .year-section,
.dark-mode .publication-card,
.dark-mode .video-container {
  background: rgba(30, 30, 46, 0.95);
  color: var(--text-color);
}

.dark-mode .video-description {
  color: #d0d3d9;
}

.dark-mode .post-stats div {
  background: rgba(255, 255, 255, 0.05);
}

.dark-mode .thumb {
  background: rgba(255, 255, 255, 0.05);
}

.dark-mode .search-input,
.dark-mode .year-select {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
  color: var(--text-color);
}

.dark-mode .stat-item {
  background: rgba(255, 255, 255, 0.1);
}

.dark-mode .no-results {
  background: rgba(30, 30, 46, 0.95);
  color: #d0d3d9;
}

.dark-mode .tag {
  background: rgba(147, 112, 219, 0.2);
  color: #d0d3d9;
}

.dark-mode .hashtag {
  background: rgba(106, 90, 205, 0.2);
}

.dark-mode .card-tag {
  background: rgba(147, 112, 219, 0.2);
}

/* Responsive */
@media (max-width: 768px) {
  .controls {
    flex-direction: column;
  }
  
  .search-input,
  .year-select,
  .theme-toggle {
    width: 100%;
    min-width: unset;
  }
  
  .video-meta {
    grid-template-columns: 1fr;
  }
  
  .stat-item {
    min-width: 100px;
  }
}

@media (max-width: 480px) {
  .reel-thumb {
    max-width: 280px;
  }
  
  .post-stats {
    grid-template-columns: 1fr;
  }
  
  .card-tags {
    gap: 6px;
  }
  
  .card-tag {
    font-size: 0.75rem;
    padding: 3px 8px;
  }
}
</style>
</head>
<body>
<div class="container">
  <header class="header">
    <div class="logo-arabic">
      ÙˆØ²Ø§Ø±Ø© Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ±Ø§Ø¨ Ø§Ù„ÙˆØ·Ù†ÙŠ ÙˆØ§Ù„ØªØ¹Ù…ÙŠØ± ÙˆØ§Ù„Ø¥Ø³ÙƒØ§Ù† ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©
    </div>
  </header>

  <div class="main-title">
    Ø­ØµÙŠÙ„Ø© Ø£Ù†Ø´Ø·Ø© Ø§Ù„ÙˆØ²Ø§Ø±Ø© Ù…Ù† 2021 Ø¥Ù„Ù‰ 2025
  </div>

  <!-- Controls -->
  <div class="controls">
    <input type="search" id="searchInput" class="search-input" placeholder="Rechercher des vidÃ©os..." aria-label="Rechercher des vidÃ©os">
    <select id="yearSelect" class="year-select" aria-label="Filtrer par annÃ©e">
      <option value="">Toutes les annÃ©es</option>
      <option value="2025">2025</option>
      <option value="2024">2024</option>
      <option value="2023">2023</option>
      <option value="2022">2022</option>
      <option value="2021">2021</option>
      <option value="2019">2019</option>
    </select>
    <button id="themeToggle" class="theme-toggle" aria-label="Basculer le thÃ¨me">ğŸŒ“</button>
  </div>

  <!-- Video Section -->
  <section id="videoSection" class="video-section" aria-label="Vue dÃ©taillÃ©e de la vidÃ©o">
    <div id="videoContainer" class="video-container">
      <div class="video-header">
        <h2 id="videoTitleHeader">Titre de la vidÃ©o</h2>
        <button id="closeVideo" class="close-video" aria-label="Fermer la vidÃ©o">Ã—</button>
      </div>
      
      <div class="video-wrapper">
        <iframe id="videoIframe" class="video-iframe" title="Lecteur vidÃ©o Facebook" allowfullscreen></iframe>
      </div>
      
      <div class="video-info">
        <div id="videoTitleAr" class="video-title-ar"></div>
        <div id="videoTitleFr" class="video-title-fr"></div>
        
        <div id="videoDescriptionContainer">
          <div id="videoDescriptionAr" class="video-description ar"></div>
          <div id="videoDescriptionFr" class="video-description"></div>
        </div>
        
        <!-- Tags Container -->
        <div id="videoTagsContainer" class="tags-container"></div>
        
        <!-- Hashtags Container -->
        <div id="videoHashtagsContainer" class="tags-container"></div>
        
        <div id="videoStats" class="video-stats"></div>
        
        <a id="facebookLink" class="facebook-link" target="_blank" rel="noopener noreferrer" aria-label="Voir la publication sur Facebook">
          <span class="facebook-icon">ğŸ“˜</span>
          <span>Voir la publication sur Facebook</span>
        </a>
        
        <div class="video-meta">
          <div class="meta-item">
            <span class="meta-icon">ğŸ“…</span>
            <div class="meta-content">
              <span class="meta-label">Date</span>
              <span id="videoDate" class="meta-value">Date</span>
            </div>
          </div>
          <div class="meta-item">
            <span class="meta-icon">ğŸ·ï¸</span>
            <div class="meta-content">
              <span class="meta-label">AnnÃ©e</span>
              <span id="videoYear" class="meta-value">AnnÃ©e</span>
            </div>
          </div>
          <div class="meta-item">
            <span class="meta-icon">ğŸ”—</span>
            <div class="meta-content">
              <span class="meta-label">ID Facebook</span>
              <span id="videoId" class="meta-value">ID</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Videos Tree -->
  <main id="videosTree" aria-label="Liste des vidÃ©os"></main>

  <footer class="footer">
    <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; ÙˆØ²Ø§Ø±Ø© Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ±Ø§Ø¨ Ø§Ù„ÙˆØ·Ù†ÙŠ ÙˆØ§Ù„ØªØ¹Ù…ÙŠØ± ÙˆØ§Ù„Ø¥Ø³ÙƒØ§Ù† ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</p>
    <p style="margin-top: 10px; font-size: 0.85rem; color: #888;">
      Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ÙŠÙ†Ø§ÙŠØ± 2024
    </p>
  </footer>
</div>

<script>
// DonnÃ©es des vidÃ©os avec tags et hashtags
const VIDEO_DATA = [
  {
    "fbid": "664426331407897",
    "date": "2022-01-18",
    "year": "2022",
    "titre_ar": "ØªØ®Ù„ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ÙˆØ·Ù†ÙŠ Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ",
    "titre_fr": "CÃ©lÃ©bration de la JournÃ©e Nationale de l'Architecte",
    "description_ar": "ØªØ®Ù„ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ÙˆØ·Ù†ÙŠ Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ ØªØ­Øª Ø´Ø¹Ø§Ø±: \"Ø¯ÙˆØ± Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ ÙÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙ†Ù…ÙˆÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯\"ØŒ Ø­ÙŠØ« Ù†Ø¸Ù…Øª Ø§Ù„ÙˆØ²Ø§Ø±Ø© ÙØ¹Ø§Ù„ÙŠØ§Øª ÙˆØ£Ù†Ø´Ø·Ø© Ù„Ù„Ø§Ø­ØªÙØ§Ø¡ Ø¨Ø¯ÙˆØ± Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠÙŠÙ† ÙÙŠ ØªØ´ÙƒÙŠÙ„ Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø­Ø¶Ø±ÙŠ ÙˆØ§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© ÙÙŠ Ø§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ù…Ø³ØªØ¯Ø§Ù…Ø©.",
    "description_fr": "CÃ©lÃ©bration de la JournÃ©e Nationale de l'Architecte sous le thÃ¨me : \"Le rÃ´le de l'architecte dans le nouveau modÃ¨le de dÃ©veloppement\". Le ministÃ¨re a organisÃ© des Ã©vÃ©nements et activitÃ©s pour cÃ©lÃ©brer le rÃ´le des architectes dans la formation du paysage urbain et leur contribution au dÃ©veloppement durable.",
    "url_facebook": "https://www.facebook.com/MATUHPV/videos/664426331407897/",
    "thumbnail": "https://scontent-iad3-2.xx.fbcdn.net/v/t15.5256-10/271810389_664431154740748_9199244546718538407_n.jpg",
    "type": "video",
    "views": 856,
    "reactions": 45,
    "commentaires": 23,
    "partages": 15,
    "duration_seconds": 120,
    "tags": "VidÃ©o, ØªØ®Ù„ÙŠØ¯, Ø§Ù„ÙŠÙˆÙ…, Ø§Ù„ÙˆØ·Ù†ÙŠ, Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³, Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ, Ø´Ø¹Ø§Ø±, Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³, Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ, Ø§Ù„Ù†Ù…ÙˆØ°Ø¬",
    "hashtags": "#Ø§Ù„ÙŠÙˆÙ…_Ø§Ù„ÙˆØ·Ù†ÙŠ_Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³_Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ #Ø§Ù„Ù†Ù…ÙˆØ°Ø¬_Ø§Ù„ØªÙ†Ù…ÙˆÙŠ_Ø§Ù„Ø¬Ø¯ÙŠØ¯ #Ù…Ù‡Ù†Ø¯Ø³_Ù…Ø¹Ù…Ø§Ø±ÙŠ #ØªÙ†Ù…ÙŠØ©_Ù…Ø³ØªØ¯Ø§Ù…Ø©"
  },
  {
    "fbid": "1026126788508799",
    "date": "2023-10-21",
    "year": "2023",
    "titre_ar": "Ù†Ø¯ÙˆØ© ØµØ­ÙÙŠØ© Ø­ÙˆÙ„ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¯Ø¹Ù… Ø§Ù„Ø³ÙƒÙ†",
    "titre_fr": "ConfÃ©rence de presse â€“ Programme d'aide au logement",
    "description_ar": "Ø¹Ù‚Ø¯Øª Ø§Ù„Ø³ÙŠØ¯Ø© ÙØ§Ø·Ù…Ø© Ø§Ù„Ø²Ù‡Ø±Ø§Ø¡ Ø§Ù„Ù…Ù†ØµÙˆØ±ÙŠØŒ ÙˆØ²ÙŠØ±Ø© Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ±Ø§Ø¨ Ø§Ù„ÙˆØ·Ù†ÙŠ ÙˆØ§Ù„ØªØ¹Ù…ÙŠØ± ÙˆØ§Ù„Ø¥Ø³ÙƒØ§Ù† ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŒ Ù†Ø¯ÙˆØ© ØµØ­ÙÙŠØ© Ù„ØªÙ‚Ø¯ÙŠÙ… ØªÙØ§ØµÙŠÙ„ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ø³ÙƒÙ†.",
    "description_fr": "Mme Fatima Zahra Mansouri, ministre de l'AmÃ©nagement du Territoire National, de l'Urbanisme, de l'Habitat et de la Politique de la Ville, a tenu une confÃ©rence de presse pour prÃ©senter les dÃ©tails du programme d'aide directe au logement.",
    "url_facebook": "https://www.facebook.com/MATUHPV/videos/1026126788508799/",
    "thumbnail": "https://scontent-iad3-1.xx.fbcdn.net/v/t15.5256-10/51236349_1023686037831376_4023555066886619136_n.jpg",
    "type": "video",
    "views": 3150,
    "commentaires": 65,
    "reactions": 210,
    "partages": 45,
    "tags": "Ù†Ø¯ÙˆØ© ØµØ­ÙÙŠØ©, Ø¯Ø¹Ù… Ø§Ù„Ø³ÙƒÙ†, Ø¨Ø±Ù†Ø§Ù…Ø¬, Ø¥Ø³ÙƒØ§Ù†",
    "hashtags": "#Ø¯Ø¹Ù…_Ø§Ù„Ø³ÙƒÙ† #Ø¨Ø±Ù†Ø§Ù…Ø¬_Ø§Ù„Ø¥Ø³ÙƒØ§Ù† #Ø³ÙƒÙ†_Ù„Ø§Ø¦Ù‚"
  },
  {
    "fbid": "1080310930210579",
    "date": "2024-11-09",
    "year": "2024",
    "titre_ar": "Ù†Ø¸Ø±Ø© Ø³Ø±ÙŠØ¹Ø© Ø¹Ù„Ù‰ Ø£Ù†Ø´Ø·Ø© ÙˆØ¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„ÙˆØ²Ø§Ø±Ø©",
    "titre_fr": "AperÃ§u rapide des activitÃ©s et rÃ©alisations du ministÃ¨re",
    "description_ar": "ÙŠÙ‚Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ø±ÙŠÙ„Ø² Ù†Ø¸Ø±Ø© Ø³Ø±ÙŠØ¹Ø© Ø¹Ù„Ù‰ Ø£Ù†Ø´Ø·Ø© ÙˆØ¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„ÙˆØ²Ø§Ø±Ø© ÙÙŠ Ù…Ø¬Ø§Ù„ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ±Ø§Ø¨ Ø§Ù„ÙˆØ·Ù†ÙŠ ÙˆØ§Ù„ØªØ¹Ù…ÙŠØ± ÙˆØ§Ù„Ø¥Ø³ÙƒØ§Ù† ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©.",
    "description_fr": "Ce Reels offre un aperÃ§u rapide des activitÃ©s et rÃ©alisations du ministÃ¨re dans les domaines de l'amÃ©nagement du territoire national, de l'urbanisme, de l'habitat et de la politique de la ville.",
    "url_facebook": "https://www.facebook.com/MATUHPV/videos/1080310930210579/",
    "thumbnail": "https://scontent-iad3-2.xx.fbcdn.net/v/t15.5256-10/466619545_560047889948672_5611261465270923729_n.jpg",
    "type": "reel",
    "views": 2890,
    "commentaires": 56,
    "reactions": 289,
    "partages": 41,
    "duration_seconds": 30,
    "tags": "Ø±ÙŠÙ„Ø², Ø£Ù†Ø´Ø·Ø©, Ø¥Ù†Ø¬Ø§Ø²Ø§Øª, ÙˆØ²Ø§Ø±Ø©",
    "hashtags": "#Ø¥Ù†Ø¬Ø§Ø²Ø§Øª_Ø§Ù„ÙˆØ²Ø§Ø±Ø© #Ø£Ù†Ø´Ø·Ø© #Ø±ÙŠÙ„Ø² #ØªØ·ÙˆÙŠØ±_Ø§Ù„Ù…Ø¯Ù†"
  }
];

// Ã‰tat de l'application
const state = {
  openYear: null,
  activeVideo: null,
  searchTerm: '',
  selectedYear: ''
};

// Initialisation
function init() {
  renderVideos();
  setupEventListeners();
  restoreTheme();
  updateLastUpdated();
}

// Rendre les vidÃ©os
function renderVideos() {
  const videosTree = document.getElementById('videosTree');
  videosTree.innerHTML = '';
  
  const filteredVideos = filterVideos();
  
  if (filteredVideos.length === 0) {
    videosTree.innerHTML = `
      <div class="year-section">
        <div class="year-header">
          <span>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</span>
          <span class="year-count">0</span>
        </div>
        <div class="videos-panel" style="max-height: none; padding: 20px;">
          <p style="text-align: center; color: #666;">
            Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ ÙÙŠØ¯ÙŠÙˆ ÙŠØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¨Ø­Ø«
          </p>
        </div>
      </div>
    `;
    return;
  }
  
  const grouped = groupVideosByYear(filteredVideos);
  
  Object.keys(grouped).sort((a, b) => b - a).forEach(year => {
    const yearSection = createYearSection(year, grouped[year]);
    videosTree.appendChild(yearSection);
  });
  
  if (state.openYear) {
    const yearHeader = document.querySelector(`[data-year="${state.openYear}"]`);
    if (yearHeader) toggleYearPanel(yearHeader);
  }
}

// Filtrer les vidÃ©os
function filterVideos() {
  return VIDEO_DATA.filter(video => {
    const matchesSearch = !state.searchTerm || 
      [video.titre_ar, video.titre_fr, video.description_ar, video.description_fr, video.tags || '', video.hashtags || '']
        .some(text => text?.toLowerCase().includes(state.searchTerm.toLowerCase()));
    
    const matchesYear = !state.selectedYear || video.year === state.selectedYear;
    
    return matchesSearch && matchesYear;
  });
}

// Grouper par annÃ©e
function groupVideosByYear(videos) {
  return videos.reduce((groups, video) => {
    if (!groups[video.year]) groups[video.year] = [];
    groups[video.year].push(video);
    return groups;
  }, {});
}

// CrÃ©er une section d'annÃ©e
function createYearSection(year, videos) {
  const section = document.createElement('section');
  section.className = 'year-section';
  section.setAttribute('aria-label', `VidÃ©os de l'annÃ©e ${year}`);
  
  const header = document.createElement('button');
  header.className = 'year-header';
  header.dataset.year = year;
  header.setAttribute('aria-expanded', 'false');
  header.innerHTML = `
    Ø³Ù†Ø© ${year} <span class="year-count">${videos.length}</span>
  `;
  
  const panel = document.createElement('div');
  panel.className = 'videos-panel';
  panel.setAttribute('role', 'region');
  
  videos.forEach(video => {
    const videoCard = createVideoCard(video);
    panel.appendChild(videoCard);
  });
  
  section.appendChild(header);
  section.appendChild(panel);
  
  return section;
}

// CrÃ©er une carte vidÃ©o
function createVideoCard(video) {
  const isActive = state.activeVideo?.fbid === video.fbid;
  const card = document.createElement('article');
  card.className = `publication-card ${isActive ? 'active' : ''}`;
  card.setAttribute('aria-label', video.titre_ar);
  
  const thumbnailContent = video.thumbnail ? createThumbnailContent(video) : '';
  const reelsBadge = video.type === 'reel' ? createReelsBadge() : '';
  const tagsContent = createTagsContent(video);
  const hashtagsContent = createHashtagsContent(video);
  
  card.innerHTML = `
    <div class="card-header">
      <div class="avatar" aria-hidden="true">M</div>
      <div>
        <div class="page-name">MinistÃ¨re AmÃ©nagement Territoire, Urbanisme, Habitat, Politique de la Ville</div>
        <div class="post-date">${formatDate(video.date)}</div>
      </div>
    </div>
    
    ${reelsBadge}
    
    <div class="post-content">
      <strong>${escapeHtml(video.titre_ar)}</strong>
      ${escapeHtml(video.description_ar)}
    </div>
    
    ${thumbnailContent}
    
    ${tagsContent}
    ${hashtagsContent}
    
    <div class="post-stats">
      <div>ğŸ‘ ${formatNumber(video.views || 0)} Ù…Ø´Ø§Ù‡Ø¯Ø©</div>
      <div>ğŸ‘ ${formatNumber(video.reactions || 0)} ØªÙØ§Ø¹Ù„</div>
      <div>ğŸ’¬ ${formatNumber(video.commentaires || 0)} ØªØ¹Ù„ÙŠÙ‚</div>
      <div>â†— ${formatNumber(video.partages || 0)} Ù…Ø´Ø§Ø±ÙƒØ©</div>
    </div>
    
    <button class="btn" data-fbid="${video.fbid}" aria-label="Ù…Ø´Ø§Ù‡Ø¯Ø© ${video.titre_ar} Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ">
      <span style="margin-left: 8px;">ğŸ“˜</span>
      Ù…Ø´Ø§Ù‡Ø¯Ø© Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ
    </button>
  `;
  
  // Ajouter les Ã©vÃ©nements
  if (video.thumbnail) {
    const thumb = card.querySelector('.thumb');
    thumb?.addEventListener('click', () => showVideo(video));
  }
  
  const btn = card.querySelector('.btn');
  btn?.addEventListener('click', () => window.open(video.url_facebook, '_blank'));
  
  return card;
}

// CrÃ©er le contenu des tags
function createTagsContent(video) {
  if (!video.tags) return '';
  
  const tags = video.tags.split(',').map(tag => tag.trim()).filter(tag => tag);
  if (tags.length === 0) return '';
  
  const tagsHtml = tags.map(tag => `
    <span class="card-tag">
      <span class="tag-icon">ğŸ·ï¸</span>
      ${escapeHtml(tag)}
    </span>
  `).join('');
  
  return `<div class="card-tags">${tagsHtml}</div>`;
}

// CrÃ©er le contenu des hashtags
function createHashtagsContent(video) {
  if (!video.hashtags) return '';
  
  const hashtags = video.hashtags.split(' ').map(tag => tag.trim()).filter(tag => tag);
  if (hashtags.length === 0) return '';
  
  const hashtagsHtml = hashtags.map(hashtag => `
    <span class="card-tag card-hashtag">
      <span class="tag-icon">#</span>
      ${escapeHtml(hashtag.replace('#', ''))}
    </span>
  `).join('');
  
  return `<div class="card-tags">${hashtagsHtml}</div>`;
}

// CrÃ©er le contenu de la miniature
function createThumbnailContent(video) {
  const thumbClass = video.type === 'reel' ? 'reel-thumb' : 'video-thumb';
  const durationHtml = video.duration_seconds ? 
    `<div class="video-duration">${formatDuration(video.duration_seconds)}</div>` : '';
  
  return `
    <div class="thumb ${thumbClass}" data-fbid="${video.fbid}" role="button" tabindex="0" aria-label="ØªØ´ØºÙŠÙ„ ${video.titre_ar}">
      <img src="${video.thumbnail}" alt="${video.titre_fr}" loading="lazy" width="800" height="450">
      <div class="play" aria-hidden="true">â–¶</div>
      ${durationHtml}
    </div>
  `;
}

// CrÃ©er le badge Reels
function createReelsBadge() {
  return '<div class="reels-badge">Facebook Reels</div>';
}

// Afficher une vidÃ©o
function showVideo(video) {
  state.activeVideo = video;
  
  // Mettre Ã  jour l'interface
  document.getElementById('videoTitleHeader').textContent = truncateText(video.titre_fr, 60);
  document.getElementById('videoTitleAr').textContent = video.titre_ar;
  document.getElementById('videoTitleFr').textContent = video.titre_fr;
  document.getElementById('videoDescriptionAr').textContent = video.description_ar;
  document.getElementById('videoDescriptionFr').textContent = video.description_fr;
  document.getElementById('videoDate').textContent = formatDate(video.date);
  document.getElementById('videoYear').textContent = video.year;
  document.getElementById('videoId').textContent = video.fbid;
  document.getElementById('facebookLink').href = video.url_facebook;
  
  // Mettre Ã  jour les tags
  updateTagsDisplay(video);
  
  // Mettre Ã  jour les statistiques
  updateVideoStats(video);
  
  // Charger l'iframe
  loadVideoIframe(video);
  
  // Afficher la section
  document.getElementById('videoSection').classList.add('active');
  document.getElementById('videoSection').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  
  renderVideos();
}

// Mettre Ã  jour l'affichage des tags et hashtags
function updateTagsDisplay(video) {
  const tagsContainer = document.getElementById('videoTagsContainer');
  const hashtagsContainer = document.getElementById('videoHashtagsContainer');
  
  // Tags
  if (video.tags) {
    const tags = video.tags.split(',').map(tag => tag.trim()).filter(tag => tag);
    tagsContainer.innerHTML = tags.map(tag => `
      <a href="#" class="tag" onclick="searchTag('${tag}')">
        <span class="tag-icon">ğŸ·ï¸</span>
        ${escapeHtml(tag)}
      </a>
    `).join('');
    tagsContainer.style.display = tags.length > 0 ? 'flex' : 'none';
  } else {
    tagsContainer.innerHTML = '';
    tagsContainer.style.display = 'none';
  }
  
  // Hashtags
  if (video.hashtags) {
    const hashtags = video.hashtags.split(' ').map(tag => tag.trim()).filter(tag => tag);
    hashtagsContainer.innerHTML = hashtags.map(hashtag => `
      <a href="#" class="tag hashtag" onclick="searchHashtag('${hashtag}')">
        <span class="tag-icon">#</span>
        ${escapeHtml(hashtag.replace('#', ''))}
      </a>
    `).join('');
    hashtagsContainer.style.display = hashtags.length > 0 ? 'flex' : 'none';
  } else {
    hashtagsContainer.innerHTML = '';
    hashtagsContainer.style.display = 'none';
  }
}

// Rechercher par tag
function searchTag(tag) {
  event.preventDefault();
  const searchInput = document.getElementById('searchInput');
  searchInput.value = tag;
  state.searchTerm = tag;
  renderVideos();
}

// Rechercher par hashtag
function searchHashtag(hashtag) {
  event.preventDefault();
  const searchInput = document.getElementById('searchInput');
  searchInput.value = hashtag;
  state.searchTerm = hashtag;
  renderVideos();
}

// Mettre Ã  jour les statistiques vidÃ©o
function updateVideoStats(video) {
  const stats = document.getElementById('videoStats');
  stats.innerHTML = '';
  
  const statsData = [
    { icon: 'ğŸ‘', value: video.views, label: 'vues' },
    { icon: 'ğŸ‘', value: video.reactions, label: 'rÃ©actions' },
    { icon: 'ğŸ’¬', value: video.commentaires, label: 'commentaires' },
    { icon: 'â†ªï¸', value: video.partages, label: 'partages' }
  ];
  
  statsData.forEach(({ icon, value, label }) => {
    if (value) {
      const statItem = document.createElement('div');
      statItem.className = 'stat-item';
      statItem.innerHTML = `<span>${icon}</span> ${formatNumber(value)} ${label}`;
      stats.appendChild(statItem);
    }
  });
}

// Charger l'iframe vidÃ©o
function loadVideoIframe(video) {
  const cleanUrl = video.url_facebook.split('?')[0];
  const embedUrl = `https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(cleanUrl)}&show_text=false&width=560`;
  document.getElementById('videoIframe').src = embedUrl;
}

// Cacher la vidÃ©o
function hideVideo() {
  state.activeVideo = null;
  document.getElementById('videoSection').classList.remove('active');
  document.getElementById('videoIframe').src = '';
  document.getElementById('videoTagsContainer').innerHTML = '';
  document.getElementById('videoHashtagsContainer').innerHTML = '';
  renderVideos();
}

// Basculer le panneau d'annÃ©e
function toggleYearPanel(header) {
  const panel = header.nextElementSibling;
  const isOpen = header.classList.contains('open');
  
  if (isOpen) {
    header.classList.remove('open');
    header.setAttribute('aria-expanded', 'false');
    panel.style.maxHeight = null;
    state.openYear = null;
  } else {
    header.classList.add('open');
    header.setAttribute('aria-expanded', 'true');
    panel.style.maxHeight = panel.scrollHeight + 'px';
    state.openYear = header.dataset.year;
  }
}

// Formater la date
function formatDate(dateString) {
  const date = new Date(dateString);
  const options = { day: 'numeric', month: 'long', year: 'numeric' };
  return date.toLocaleDateString('ar-MA', options);
}

// Formater la durÃ©e
function formatDuration(seconds) {
  const mins = Math.floor(seconds / 60);
  const secs = seconds % 60;
  return `${mins}:${secs.toString().padStart(2, '0')}`;
}

// Formater les nombres
function formatNumber(num) {
  if (!num) return '0';
  return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

// Tronquer le texte
function truncateText(text, maxLength) {
  if (!text) return '';
  return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;
}

// Ã‰chapper le HTML
function escapeHtml(text) {
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}

// Configuration des Ã©vÃ©nements
function setupEventListeners() {
  // Recherche
  document.getElementById('searchInput').addEventListener('input', (e) => {
    state.searchTerm = e.target.value;
    renderVideos();
  });
  
  // Filtre par annÃ©e
  document.getElementById('yearSelect').addEventListener('change', (e) => {
    state.selectedYear = e.target.value;
    renderVideos();
  });
  
  // ThÃ¨me
  document.getElementById('themeToggle').addEventListener('click', toggleTheme);
  
  // Fermer la vidÃ©o
  document.getElementById('closeVideo').addEventListener('click', hideVideo);
  
  // GÃ©rer les clics sur les annÃ©es
  document.getElementById('videosTree').addEventListener('click', (e) => {
    if (e.target.closest('.year-header')) {
      const header = e.target.closest('.year-header');
      toggleYearPanel(header);
    }
  });
  
  // Touche Ã‰chap pour fermer la vidÃ©o
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && state.activeVideo) {
      hideVideo();
    }
  });
}

// Basculer le thÃ¨me
function toggleTheme() {
  const isDark = document.body.classList.toggle('dark-mode');
  localStorage.setItem('theme', isDark ? 'dark' : 'light');
  document.getElementById('themeToggle').textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ“';
}

// Restaurer le thÃ¨me
function restoreTheme() {
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') {
    document.body.classList.add('dark-mode');
    document.getElementById('themeToggle').textContent = 'â˜€ï¸';
  }
}

// Mettre Ã  jour la date de derniÃ¨re mise Ã  jour
function updateLastUpdated() {
  const now = new Date();
  const options = { year: 'numeric', month: 'long', day: 'numeric' };
  const dateString = now.toLocaleDateString('ar-MA', options);
  document.querySelector('.footer p:last-child').textContent = `Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${dateString}`;
}

// DÃ©marrer l'application
document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>